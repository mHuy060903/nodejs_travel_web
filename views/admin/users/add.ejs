<%- include('../testicludes/head.ejs') %>
 <%- include('../testicludes/nav.ejs') %>
<div class="right_container_in">
  <a href="/admin/user" class="link_back_admin">Quay lại</a>

  <form action="<% if(editMode) { %> 
    /admin/user/edit
    <% } else { %>
    /admin/user/add
     <% } %>
    " class="form_user_add" method="POST" enctype="multipart/form-data">

    <div class="form_user_add_container">
      
       <h1 class="form_user_add_header"><% if(editMode) { %> 
        Sửa người dùng
        <% } else { %>
        Thêm người dùng
         <% } %></h1>
    
    <div class="form_control_user_add">
      <label for="name">Tên</label>
      <input type="text" placeholder="Nhập tên người dùng" value="<%=oldInput.name%>"  name="name" class="input_admin <%= errorsArray.find(e => e.param === 'name') ? 'input_error' : 'false'; %>"  />
      <!-- <span class="message_error">haha</span> -->
      <span class="message_error"><%= errorsArray.find(e => e.param === 'name') ? errorsArray.find(e => e.param === 'name').msg : '' %></span>
    </div>
    <% if(editMode) { %> 
      <div class="form_control_user_add">
        <label for="name">Image</label>
        <input type="file"  name="image" />
        <!-- <span class="message_error">haha</span> -->
       
      </div>
     <% } %>
    <div class="form_control_user_add">
      <label for="email">Email</label>
      <input placeholder="Nhập email người dùng" value="<%=oldInput.email%>" type="text" name="email" class="input_admin <%= errorsArray.find(e => e.param === 'email') ? 'input_error' : 'false'; %>"/>
      <span class="message_error"><%= errorsArray.find(e => e.param === 'email') ? errorsArray.find(e => e.param === 'email').msg : '' %></span>
      
    </div>
    <% if(!editMode) { %> 
    <div class="form_control_user_add">
      <label for="password">Password</label>
      <input placeholder="Nhập mật khẩu" type="password" value="<%=oldInput.password%>"  name="password" class="input_admin <%= errorsArray.find(e => e.param === 'password') ? 'input_error' : 'false'; %>" />
      <span class="message_error"><%= errorsArray.find(e => e.param === 'password') ? errorsArray.find(e => e.param === 'password').msg : '' %></span>
      
    </div>
    <div class="form_control_user_add">
      <label for="password">ConfirmPassword</label>
      <input placeholder="Xác nhận mật khẩu" type="password" value="<%=oldInput.confirmPassword%>"  name="confirmpassword" class="input_admin <%= errorsArray.find(e => e.param === 'confirmpassword') ? 'input_error' : 'false'; %>"/>
      <span class="message_error"><%= errorsArray.find(e => e.param === 'confirmpassword') ? errorsArray.find(e => e.param === 'confirmpassword').msg : '' %></span>
      
    </div>
    <% } %>
    <div class="form_control_user_add">
      <label for="password">Vai trò</label>
      <select class="input_admin" name="role" id="">
        <option value="1"  <%= (+oldInput.role === 1) ? 'selected' : '' %> >Người dùng</option>
        <option value="2" <%= (+oldInput.role === 2) ? 'selected' : '' %>>Admin</option>
      </select>
    </div>
    <% if(editMode) { %> 
       <input type="hidden" value="<%=userId%>" name="userId">
      <% } %>
    <button type="submit" class="form_user_add_btn"> <% if(editMode) { %> 
      Sửa 
      <% } else { %>
      Thêm
       <% } %></button>
    
  </div>
  </form>
</div>

<%- include('../testicludes/end.ejs') %>


